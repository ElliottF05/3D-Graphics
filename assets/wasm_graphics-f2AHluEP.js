import{s as C}from"./workerHelpers-Dw453bGc.js";let r;const F=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&F.decode();let m=null;function l(){return(m===null||m.buffer!==r.memory.buffer)&&(m=new Uint8Array(r.memory.buffer)),m}function g(t,e){return t=t>>>0,F.decode(l().slice(t,t+e))}function f(t){const e=r.__externref_table_alloc();return r.__wbindgen_export_3.set(e,t),e}function p(t,e){try{return t.apply(this,e)}catch(n){const o=f(n);r.__wbindgen_exn_store(o)}}function s(t){return t==null}function L(t,e){return t=t>>>0,l().subarray(t/1,t/1+e)}let c=0;const S=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},B=function(t,e){const n=S.encode(t);return e.set(n),{read:t.length,written:n.length}};function x(t,e,n){if(n===void 0){const b=S.encode(t),w=e(b.length,1)>>>0;return l().subarray(w,w+b.length).set(b),c=b.length,w}let o=t.length,_=e(o,1)>>>0;const i=l();let a=0;for(;a<o;a++){const b=t.charCodeAt(a);if(b>127)break;i[_+a]=b}if(a!==o){a!==0&&(t=t.slice(a)),_=n(_,o,o=a+t.length*3,1)>>>0;const b=l().subarray(_+a,_+o),w=B(t,b);a+=w.written,_=n(_,o,a,1)>>>0}return c=a,_}let y=null;function d(){return(y===null||y.buffer!==r.memory.buffer)&&(y=new DataView(r.memory.buffer)),y}const j=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>{r.__wbindgen_export_7.get(t.dtor)(t.a,t.b)});function A(t,e,n,o){const _={a:t,b:e,cnt:1,dtor:n},i=(...a)=>{_.cnt++;const b=_.a;_.a=0;try{return o(b,_.b,...a)}finally{--_.cnt===0?(r.__wbindgen_export_7.get(_.dtor)(b,_.b),j.unregister(_)):_.a=b}};return i.original=_,j.register(i,_,_),i}function T(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const _=t.description;return _==null?"Symbol":`Symbol(${_})`}if(e=="function"){const _=t.name;return typeof _=="string"&&_.length>0?`Function(${_})`:"Function"}if(Array.isArray(t)){const _=t.length;let i="[";_>0&&(i+=T(t[0]));for(let a=1;a<_;a++)i+=", "+T(t[a]);return i+="]",i}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let o;if(n&&n.length>1)o=n[1];else return toString.call(t);if(o=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:o}function $(){r.enter_edit_mode()}function J(){r.exit_edit_mode()}function q(){r.delete_selected_object()}function V(t){r.set_follow_camera(t)}function D(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}function N(t){D(t,h);var e=t.__destroy_into_raw();r.set_selected_object_material_properties(e)}function G(){r.enter_ray_tracing_mode()}function H(){r.stop_ray_tracing()}function K(t,e,n){r.translate_selected_obj(t,e,n)}function X(t,e,n){r.rotate_selected_obj(t,e,n)}function Y(t){r.scale_selected_obj(t)}function Q(t){r.add_sphere(t)}function Z(t,e,n){r.add_box(t,e,n)}function u(t,e){const n=e(t.length*1,1)>>>0;return l().set(t,n/1),c=t.length,n}function ee(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.add_custom_object(e,n)}function te(t){r.set_fov(t)}function ne(t){r.set_focal_dist(t)}function re(t){r.set_defocus_angle(t)}function _e(){r.load_scene_random_spheres()}function oe(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_fantasy_book(e,n)}function ie(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_magic_bridge(e,n)}function ae(){r.load_scene_cornell_box()}function se(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_cornell_box_extra(e,n)}function ce(){r.load_scene_simple_light()}function be(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_gandalf_bust(e,n)}function ue(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_roza_bust(e,n)}function fe(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_dragon(e,n)}function ge(t,e){var n=s(t)?0:u(t,r.__wbindgen_malloc),o=c,_=s(e)?0:u(e,r.__wbindgen_malloc),i=c;r.load_scene_mirror_box(n,o,_,i)}function de(t){var e=s(t)?0:u(t,r.__wbindgen_malloc),n=c;r.load_scene_suzanne_monkey(e,n)}function le(){r.init_and_begin_game_loop()}function we(t){const e=u(t,r.__wbindgen_malloc),n=c;return r.load_glb_model(e,n)!==0}function pe(t){return r.initThreadPool(t)}function me(t){r.wbg_rayon_start_worker(t)}function I(t,e,n){r.closure266_externref_shim(t,e,n)}function z(t,e){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h3c31e5190cd52939(t,e)}const v=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_materialproperties_free(t>>>0,1));class h{static __wrap(e){e=e>>>0;const n=Object.create(h.prototype);return n.__wbg_ptr=e,v.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,v.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_materialproperties_free(e,0)}get mat_is_editable(){return r.__wbg_get_materialproperties_mat_is_editable(this.__wbg_ptr)!==0}set mat_is_editable(e){r.__wbg_set_materialproperties_mat_is_editable(this.__wbg_ptr,e)}get r(){return r.__wbg_get_materialproperties_r(this.__wbg_ptr)}set r(e){r.__wbg_set_materialproperties_r(this.__wbg_ptr,e)}get g(){return r.__wbg_get_materialproperties_g(this.__wbg_ptr)}set g(e){r.__wbg_set_materialproperties_g(this.__wbg_ptr,e)}get b(){return r.__wbg_get_materialproperties_b(this.__wbg_ptr)}set b(e){r.__wbg_set_materialproperties_b(this.__wbg_ptr,e)}get material_type(){return r.__wbg_get_materialproperties_material_type(this.__wbg_ptr)>>>0}set material_type(e){r.__wbg_set_materialproperties_material_type(this.__wbg_ptr,e)}get extra_prop(){return r.__wbg_get_materialproperties_extra_prop(this.__wbg_ptr)}set extra_prop(e){r.__wbg_set_materialproperties_extra_prop(this.__wbg_ptr,e)}constructor(e,n,o,_,i,a){const b=r.materialproperties_new(e,n,o,_,i,a);return this.__wbg_ptr=b>>>0,v.register(this,this.__wbg_ptr,this),this}}const W=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_wbg_rayon_poolbuilder_free(t>>>0,1));class E{static __wrap(e){e=e>>>0;const n=Object.create(E.prototype);return n.__wbg_ptr=e,W.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_wbg_rayon_poolbuilder_free(e,0)}numThreads(){return r.wbg_rayon_poolbuilder_numThreads(this.__wbg_ptr)>>>0}receiver(){return r.wbg_rayon_poolbuilder_receiver(this.__wbg_ptr)>>>0}build(){r.wbg_rayon_poolbuilder_build(this.__wbg_ptr)}}async function P(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(o){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function O(){const t={};return t.wbg={},t.wbg.__wbg_addEventListener_90e553fdce254421=function(){return p(function(e,n,o,_){e.addEventListener(g(n,o),_)},arguments)},t.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},t.wbg.__wbg_button_f75c56aec440ea04=function(e){return e.button},t.wbg.__wbg_call_672a4d21634d4a24=function(){return p(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_document_d249400bd7bd996d=function(e){const n=e.document;return s(n)?0:f(n)},t.wbg.__wbg_drawWasmPixelsToCanvas_379c2ebdb0ea88b4=function(e,n,o,_){drawWasmPixelsToCanvas(L(e,n),o>>>0,_>>>0)},t.wbg.__wbg_error_524f506f44df1645=function(e){console.error(e)},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let o,_;try{o=e,_=n,console.error(g(e,n))}finally{r.__wbindgen_free(o,_,1)}},t.wbg.__wbg_getContext_e9cf379449413580=function(){return p(function(e,n,o){const _=e.getContext(g(n,o));return s(_)?0:f(_)},arguments)},t.wbg.__wbg_getElementById_f827f0d6648718a8=function(e,n,o){const _=e.getElementById(g(n,o));return s(_)?0:f(_)},t.wbg.__wbg_getRandomValues_3a70830e53f8ccf5=function(){return p(function(e){globalThis.crypto.getRandomValues(e)},arguments)},t.wbg.__wbg_height_838cee19ba8597db=function(e){return e.height},t.wbg.__wbg_instanceof_CanvasRenderingContext2d_df82a4d3437bf1cc=function(e){let n;try{n=e instanceof CanvasRenderingContext2D}catch{n=!1}return n},t.wbg.__wbg_instanceof_HtmlCanvasElement_2ea67072a7624ac5=function(e){let n;try{n=e instanceof HTMLCanvasElement}catch{n=!1}return n},t.wbg.__wbg_instanceof_KeyboardEvent_1f79ad7d32051924=function(e){let n;try{n=e instanceof KeyboardEvent}catch{n=!1}return n},t.wbg.__wbg_instanceof_MouseEvent_ea92df42ebd8c1f9=function(e){let n;try{n=e instanceof MouseEvent}catch{n=!1}return n},t.wbg.__wbg_instanceof_Window_def73ea0955fc569=function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},t.wbg.__wbg_key_7b5c6cb539be8e13=function(e,n){const o=n.key,_=x(o,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c;d().setInt32(e+4*1,i,!0),d().setInt32(e+4*0,_,!0)},t.wbg.__wbg_length_a446193dc22c12f8=function(e){return e.length},t.wbg.__wbg_log_c222819a41e063d3=function(e){console.log(e)},t.wbg.__wbg_movementX_1aa05f864931369b=function(e){return e.movementX},t.wbg.__wbg_movementY_8acfedb38a70e624=function(e){return e.movementY},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},t.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,n){return new Function(g(e,n))},t.wbg.__wbg_newwithlength_a381634e90c276d4=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_now_d18023d54d4e5500=function(e){return e.now()},t.wbg.__wbg_performance_c185c0cdc2766575=function(e){const n=e.performance;return s(n)?0:f(n)},t.wbg.__wbg_pointerLockElement_4e5150cbf7338524=function(e){const n=e.pointerLockElement;return s(n)?0:f(n)},t.wbg.__wbg_requestAnimationFrame_d7fd890aaefc3246=function(){return p(function(e,n){return e.requestAnimationFrame(n)},arguments)},t.wbg.__wbg_requestPointerLock_304dd9ccfe548767=function(e){e.requestPointerLock()},t.wbg.__wbg_set_65595bdd868b3009=function(e,n,o){e.set(n,o>>>0)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const o=n.stack,_=x(o,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c;d().setInt32(e+4*1,i,!0),d().setInt32(e+4*0,_,!0)},t.wbg.__wbg_startWorkers_2ca11761e08ff5d5=function(e,n,o){return C(e,n,E.__wrap(o))},t.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const e=typeof global>"u"?null:global;return s(e)?0:f(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const e=typeof globalThis>"u"?null:globalThis;return s(e)?0:f(e)},t.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const e=typeof self>"u"?null:self;return s(e)?0:f(e)},t.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const e=typeof window>"u"?null:window;return s(e)?0:f(e)},t.wbg.__wbg_subarray_aa9065fa9dc5df96=function(e,n,o){return e.subarray(n>>>0,o>>>0)},t.wbg.__wbg_updateDofStrength_f0fe88a3ad923679=function(e){wasmToJsBridge.updateDofStrength(e)},t.wbg.__wbg_updateFocalDistance_6ffa242b7f65da0d=function(e){wasmToJsBridge.updateFocalDistance(e)},t.wbg.__wbg_updateFollowCamera_908caa0ae66d6375=function(e){wasmToJsBridge.updateFollowCamera(e!==0)},t.wbg.__wbg_updateFov_a21a31450b56f273=function(e){wasmToJsBridge.updateFov(e)},t.wbg.__wbg_updateGameStatus_90e602e4cb6a2474=function(e){wasmToJsBridge.updateGameStatus(e>>>0)},t.wbg.__wbg_updateSelectedObjMatProps_1d25fed871aa2c6b=function(e){wasmToJsBridge.updateSelectedObjMatProps(e===0?void 0:h.__wrap(e))},t.wbg.__wbg_warn_4ca3906c248c47c4=function(e){console.warn(e)},t.wbg.__wbg_width_5dde457d606ba683=function(e){return e.width},t.wbg.__wbindgen_cb_drop=function(e){const n=e.original;return n.cnt--==1?(n.a=0,!0):!1},t.wbg.__wbindgen_closure_wrapper599=function(e,n,o){return A(e,n,267,I)},t.wbg.__wbindgen_closure_wrapper601=function(e,n,o){return A(e,n,267,z)},t.wbg.__wbindgen_debug_string=function(e,n){const o=T(n),_=x(o,r.__wbindgen_malloc,r.__wbindgen_realloc),i=c;d().setInt32(e+4*1,i,!0),d().setInt32(e+4*0,_,!0)},t.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_export_3,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t.wbg.__wbindgen_is_undefined=function(e){return e===void 0},t.wbg.__wbindgen_memory=function(){return r.memory},t.wbg.__wbindgen_module=function(){return k.__wbindgen_wasm_module},t.wbg.__wbindgen_string_new=function(e,n){return g(e,n)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(g(e,n))},t}function R(t,e){t.wbg.memory=e||new WebAssembly.Memory({initial:23,maximum:65536,shared:!0})}function M(t,e,n){if(r=t.exports,k.__wbindgen_wasm_module=e,y=null,m=null,typeof n<"u"&&(typeof n!="number"||n===0||n%65536!==0))throw"invalid stack size";return r.__wbindgen_start(n),r}function ye(t,e){if(r!==void 0)return r;let n;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module:t,memory:e,thread_stack_size:n}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const o=O();R(o,e),t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const _=new WebAssembly.Instance(t,o);return M(_,t,n)}async function k(t,e){if(r!==void 0)return r;let n;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t,memory:e,thread_stack_size:n}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("wasm_graphics_bg-B6Q9BE7a.wasm",import.meta.url).href,import.meta.url));const o=O();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t)),R(o,e);const{instance:_,module:i}=await P(await t,o);return M(_,i,n)}export{h as MaterialProperties,Z as add_box,ee as add_custom_object,Q as add_sphere,k as default,q as delete_selected_object,$ as enter_edit_mode,G as enter_ray_tracing_mode,J as exit_edit_mode,ye as initSync,pe as initThreadPool,le as init_and_begin_game_loop,we as load_glb_model,ae as load_scene_cornell_box,se as load_scene_cornell_box_extra,fe as load_scene_dragon,oe as load_scene_fantasy_book,be as load_scene_gandalf_bust,ie as load_scene_magic_bridge,ge as load_scene_mirror_box,_e as load_scene_random_spheres,ue as load_scene_roza_bust,ce as load_scene_simple_light,de as load_scene_suzanne_monkey,X as rotate_selected_obj,Y as scale_selected_obj,re as set_defocus_angle,ne as set_focal_dist,V as set_follow_camera,te as set_fov,N as set_selected_object_material_properties,H as stop_ray_tracing,K as translate_selected_obj,E as wbg_rayon_PoolBuilder,me as wbg_rayon_start_worker};
